{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/LinHan/Desktop/uni-app/huachenghuiShop/pages/productDetails/productDetails.vue?1694","webpack:///C:/Users/LinHan/Desktop/uni-app/huachenghuiShop/pages/productDetails/productDetails.vue?ae5e","webpack:///C:/Users/LinHan/Desktop/uni-app/huachenghuiShop/pages/productDetails/productDetails.vue?829a","webpack:///C:/Users/LinHan/Desktop/uni-app/huachenghuiShop/pages/productDetails/productDetails.vue?d1e7","uni-app:///pages/productDetails/productDetails.vue","webpack:///C:/Users/LinHan/Desktop/uni-app/huachenghuiShop/pages/productDetails/productDetails.vue?8b8f"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uSwiper","uParse","uPopup","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","g0","_self","_c","gallery","map","item","img_url","g1","length","_isMounted","e0","$event","show","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","ShowErrorText","goods_id","current","isShowError","info","productList","specificationList","specsStatus","specsSwitchValue","specsValue","selnumValue","shopListNum","showCustomerService","goodsCount","onLoad","methods","goodsDetail","id","index","getGoodsCount","cartTotal","setCurrent","close","specsSwitch","cutSelnum","addSelnum","toIndex","uni","url","confirm","showError","clearTimeout","CartAdd","icon","title","duration","addType","goodsId","number","productId","buyNow","toShoppingCart","onShow"],"mappings":"8JAAA,MAGA,aACA,YAFAA,EAAGC,kCAAoCC,EAGvCC,EAAWC,a,gFCLX,oIACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,0CACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,QAAS,WACP,OAAO,qHAITC,OAAQ,WACN,OAAO,mHAITC,OAAQ,WACN,OAAO,oHAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,QAAQC,KAAI,SAAUC,GACjC,OAAOA,EAAKC,YAEVC,EAAKX,EAAIO,QAAQK,OAChBZ,EAAIa,aACPb,EAAIc,GAAK,SAAUC,GACjBf,EAAIgB,MAAO,IAGfhB,EAAIiB,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLjB,GAAIA,EACJO,GAAIA,MAKRW,GAAmB,EACnBC,EAAkB,GACtBxB,EAAOyB,eAAgB,G,iCC7DvB,yHAAorB,eAAG,G,gKCoLvrB,SAKA,QAEA,ilBACA,CACAN,gBACA,OACAO,sBACAC,WACAC,UACAX,QACAY,eACArB,WACAsB,QACAC,eACAC,qBACAC,eACAC,oBACAC,cACAC,cACAC,cACAC,uBACAC,eAGAC,mBACA,oBAEAC,gBACA,0CACAC,uBAAA,mKAMA,qBACAC,gBACA,gBANAnC,YACAsB,SACAC,gBACAC,sBAIA,YACA,SACA,gBACA,sBACA,wEACAY,SAAA,OACA,6DAfA,IAkBAC,yBAAA,6JAKA,qCAFAN,IADAO,UACAP,WAGA,eACA,6DAPA,IAUAQ,uBACA,wBAEAC,iBACA,cAGAC,wBACA,2BACA,qBACA,iCACA,mBACA,sBAEA,uCACA,kBACA,oBACA,wBAGA,qBACA,mBACA,iCACA,sBAEA,kBACA,oBACA,yCAMAC,qBACA,mBACA,yCACA,6CAGAC,qBACA,mBACA,2CAGAC,mBACAC,aACAC,4BAIAC,mBACA,6BAGAC,sBAAA,WACA,qBACA,oBACA,6BACA,iBACAC,kBACA,MAGAC,mBAAA,WACA,8CACAd,SAAA,oBACA,8CACAA,SAAA,GACA,kBAGAS,aACAM,eACAC,aACAC,gBAEA,iBACAC,UACAC,UACAC,wBACAC,cACA,iBACA,6BACAZ,aACAM,eACAC,aACAC,eAEAJ,kBACA,KAEA,sBAtBA,yBA4BAS,kBACA,kBACA,eACAb,cACAC,uEAGA,wBAEA,cAGAa,0BACAd,aACAC,4CAIAc,kBACA,qBAEA,c,6DCxWA,yHAA+wC,eAAG,G","file":"pages/productDetails/productDetails.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/productDetails/productDetails.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./productDetails.vue?vue&type=template&id=04ad1066&\"\nvar renderjs\nimport script from \"./productDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./productDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./productDetails.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/productDetails/productDetails.vue\"\nexport default component.exports","export * from \"-!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./productDetails.vue?vue&type=template&id=04ad1066&\"","var components\ntry {\n  components = {\n    uSwiper: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-swiper/u-swiper\" */ \"@/uni_modules/uview-ui/components/u-swiper/u-swiper.vue\"\n      )\n    },\n    uParse: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-parse/u-parse\" */ \"@/uni_modules/uview-ui/components/u-parse/u-parse.vue\"\n      )\n    },\n    uPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-popup/u-popup\" */ \"@/uni_modules/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.gallery.map(function (item) {\n    return item.img_url\n  })\n  var g1 = _vm.gallery.length\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.show = true\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./productDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./productDetails.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"bg-[#eee]\">\r\n\t\t<u-swiper :list=\"gallery.map(item=>item.img_url)\" @change=\"setCurrent\" :autoplay=\"true\" :circular=\"true\"\r\n\t\t\tindicatorStyle=\"right: 20px\" height=\"560rpx\">\r\n\t\t\t<view slot=\"indicator\" class=\"indicator-num flex items-center\">\r\n\t\t\t\t<image src=\"@/static/images/current.png\" class=\"w-[22rpx] block h-[22rpx]\" mode=\"\"></image>\r\n\t\t\t\t<text class=\"indicator-num__text block\">{{ current + 1 }}/{{ gallery.length }}</text>\r\n\t\t\t</view>\r\n\t\t</u-swiper>\r\n\t\t<view class=\"info-wrap w-full flex justify-between items-center p-[30rpx] bg-[#fff] border-b border-[#f1f1f1]\">\r\n\t\t\t<view class=\"l w-[calc(100%-100rpx)]\">\r\n\t\t\t\t<view class=\"goods-title w-full text-[30rpx] truncate\">{{info.name}}</view>\r\n\t\t\t\t<view class=\"goods-intro w-full text-[24rpx] text-[#8f8f8f] truncate\">{{info.goods_brief}}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"r w-[100rpx] flex justify-end\">\r\n\t\t\t\t<view class=\"share\">\r\n\t\t\t\t\t<image src=\"@/static/images/fenxiang.png\" mode=\"\" class=\"w-[26rpx] h-[28rpx]\"></image>\r\n\t\t\t\t\t<text class=\"text-[26rpx] text-[#8f8f8f]\">分享</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"price-info flex justify-between items-center px-[30rpx] py-[20rpx] bg-[#fff]\">\r\n\t\t\t<view class=\"l w-3/5 text-[26rpx] text-[red]\">\r\n\t\t\t\t￥{{info.min_retail_price}}\r\n\t\t\t</view>\r\n\t\t\t<view class=\"r w-2/5 flex items-center justify-end text-[26rpx] text-[#8f8f8f]\">\r\n\t\t\t\t<view class=\"stock mr-[15rpx]\">库存{{info.goods_number}}</view>\r\n\t\t\t\t<view class=\"sales\">已售{{info.sell_volume}}份</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 选择 -->\r\n\t\t<view @click=\"show = true\"\r\n\t\t\tclass=\"switchAttrPop flex justify-between items-center px-[24rpx] my-[24rpx] w-full h-[100rpx] bg-[#fff]\">\r\n\t\t\t<view class=\"text-[28rpx] text-[38f8f8f]\">{{specsSwitchValue}}</view>\r\n\t\t\t<view>\r\n\t\t\t\t<image src=\"@/static/images/rjiantou.png\" class=\"w-[20rpx] h-[20rpx]\" mode=\"\"></image>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 商品详情 -->\r\n\t\t<view class=\"details-wrap bg-[#fff]\">\r\n\t\t\t<view class=\"title w-full text-[32rpx] px-[30rpx] py-[40rpx]\">商品详情</view>\r\n\t\t\t<u-parse :content=\"info.goods_desc\"></u-parse>\r\n\t\t</view>\r\n\t\t<!-- 规格 -->\r\n\t\t<view class=\"w-full\">\r\n\t\t\t<u-popup :show=\"show\" mode=\"bottom\" :safeAreaInsetBottom=\"true\" :closeable=\"true\" @close=\"close\"\r\n\t\t\t\t:customStyle=\"{\r\n\t\t\t\tpadding: '20rpx 40rpx ',bottom: '110rpx'}\" :overlayStyle=\"{bottom: '110rpx'}\">\r\n\t\t\t\t<view class=\"img-info flex w-full h-[160rpx]\">\r\n\t\t\t\t\t<view class=\"img-wrap w-[160rpx] mr-[10rpx]\">\r\n\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t<image v-for=\"(item,index) in gallery\" :key=\"item.id\" v-if=\"index===0\" :src=\"item.img_url\"\r\n\t\t\t\t\t\t\t\tmode=\"\" class=\"w-[160rpx] h-[160rpx]\">\r\n\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"info w-full h-full w-[calc(100%-160rpx)]\">\r\n\t\t\t\t\t\t<view class=\"price-range text-[28rpx] flex \">\r\n\t\t\t\t\t\t\t<view class=\"p-title\">零售价:</view>\r\n\t\t\t\t\t\t\t<view class=\"g-price text-[red] mr-[10rpx]\">{{info.min_retail_price}}元</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"text-[#8f8f8f] text-[28rpx]\">{{specsSwitchValue}}</view>\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"spec-con\">\r\n\t\t\t\t\t<view class=\"spec-item mt-[10rpx]\">\r\n\t\t\t\t\t\t<view class=\"name text-[28rpx] text-[#333]\">规格</view>\r\n\t\t\t\t\t\t<view class=\"values flex flex-wrap\">\r\n\r\n\t\t\t\t\t\t\t<template>\r\n\t\t\t\t\t\t\t\t<view @click=\"specsSwitch(item.value)\"\r\n\t\t\t\t\t\t\t\t\tclass=\"value_item text-[28rpx] mt-[10rpx] px-[20rpx] py-[5rpx] leading-[50rpx] text-center mr-[25rpx] mb-[14rpx] \"\r\n\t\t\t\t\t\t\t\t\t:style=\"{border:specsValue===item.value ?'1rpx solid red':'1rpx solid #fff'}\"\r\n\t\t\t\t\t\t\t\t\tv-for=\"(item,index) in specificationList.valueList\" :key=\"item.id\">\r\n\t\t\t\t\t\t\t\t\t{{item.value}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"spec-item mt-[10rpx]\">\r\n\t\t\t\t\t\t<view class=\"name text-[28rpx] text-[#333]\">库存</view>\r\n\t\t\t\t\t\t<view class=\"stock-num text-[28rpx]\" v-for=\"(item,index) in productList\" :key=\"item.id\"\r\n\t\t\t\t\t\t\tv-if=\"index===0\">{{item.goods_number}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"spec-item mt-[10rpx]\">\r\n\t\t\t\t\t\t<view class=\"name text-[28rpx] text-[#333]\">数量(件)</view>\r\n\t\t\t\t\t\t<view class=\"selnum w-[280rpx] h-[60rpx] border border-[#ccc] flex items-center\">\r\n\t\t\t\t\t\t\t<button @click=\"cutSelnum\"\r\n\t\t\t\t\t\t\t\tclass=\"cut w-1/3 h-full text-center leading-[60rpx] text-[#555] \">-</button>\r\n\t\t\t\t\t\t\t<view class=\" w-1/3 h-full border-r border-[#ccc] border-l\">\r\n\t\t\t\t\t\t\t\t<input type=\"text\" v-model=\"selnumValue\"\r\n\t\t\t\t\t\t\t\t\tclass=\" w-full h-full text-center   text-[28rpx]\">\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<button @click=\"addSelnum\"\r\n\t\t\t\t\t\t\t\tclass=\"add w-1/3 h-full text-center leading-[60rpx] text-[#555] \">+</button>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</u-popup>\r\n\t\t</view>\r\n\t\t<!-- 客服会话 -->\r\n\t\t<!-- #ifdef APP -->\r\n\t\t<u-modal :show=\"showCustomerService\" @confirm=\"confirm\" confirmText=\"返回\">\r\n\t\t\t<slot>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<view class=\"title w-full text-center text-[32rpx] font-bold text-[#606266]\">模拟进入客服会话\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"centent pt-[15rpx] px-[30rpx]\">开发者工具暂不支持打开客服会话，请使用真机调试\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</slot>\r\n\t\t</u-modal>\r\n\t\t<!-- #endif -->\r\n\t\t<view v-if=\"isShowError\" class=\"w-[250rpx] z-[999] rounded-lg\r\n\t\t\t h-[250rpx] text-center  bg-[#ccc] absolute top-[50%] left-[50%] -translate-y-1/2 -translate-x-1/2\">\r\n\t\t\t<image src=\"@/static/images/ku.png\" class=\"w-[100rpx] block mt-[50rpx] m-auto h-[100rpx]\" mode=\"\"></image>\r\n\t\t\t<view class=\"text-[30rpx] mt-[20rpx] \">{{ShowErrorText}}</view>\r\n\t\t</view>\r\n\t\t<!-- 底部 -->\r\n\t\t<view class=\"fixed bottom-0 z-[999] w-full h-[110rpx] bg-[#fff]\">\r\n\t\t\t<view class=\"flex items-center w-full h-full \">\r\n\t\t\t\t<view class=\"l w-[40%] w-full h-full \">\r\n\t\t\t\t\t<view class=\"w-full h-full  flex  items-center\">\r\n\t\t\t\t\t\t<view class=\"w-[30%]   text-center\" @click=\"toIndex\">\r\n\t\t\t\t\t\t\t<image src=\"@/static/images/shouye0.png\" class=\"w-[40rpx] m-auto block h-[40rpx]\" mode=\"\">\r\n\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t<text class=\"text-[20rpx] text-[#8f8f8f] block\">主页</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- #ifdef MP-WEIXIN-->\r\n\t\t\t\t\t\t<button open-type=\"contact\"\r\n\t\t\t\t\t\t\tclass=\"w-[30%] p-0 m-0 leading-2 block flex items-center justify-center text-center h-full\">\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<image src=\"@/static/images/kefu.png\" class=\"w-[40rpx] m-auto h-[40rpx]\" mode=\"\">\r\n\t\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t\t<text class=\"text-[20rpx] text-[#8f8f8f] block\">客服</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\t<!-- #ifdef APP -->\r\n\t\t\t\t\t\t<view class=\"w-[30%]  text-center\" @click=\"showCustomerService=true\">\r\n\t\t\t\t\t\t\t<image src=\"@/static/images/kefu.png\" class=\"w-[40rpx] m-auto h-[40rpx]\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t<text class=\"text-[20rpx] text-[#8f8f8f] block\">客服</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\t<view class=\"w-[30%]  text-center relative\">\r\n\t\t\t\t\t\t\t<image src=\"@/static/images/gouwuche0.png\" class=\"w-[40rpx] m-auto h-[40rpx]\" mode=\"\">\r\n\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t<view @click=\"toShoppingCart\" class=\"text-[20rpx] text-[#8f8f8f] \">购物车\r\n\t\t\t\t\t\t\t\t<view v-if=\"goodsCount>0\"\r\n\t\t\t\t\t\t\t\t\tclass=\"w-[50rpx] h-[25rpx] bg-[#f56c6c] rounded-lg text-[#fff] text-[20rpx] leading-[20rpx] text-center absolute top-[-5px] left-[50rpx]\">\r\n\t\t\t\t\t\t\t\t\t{{goodsCount}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"info.goods_number !== 0\" class=\"r w-[60%] h-full\">\r\n\t\t\t\t\t<view class=\"w-full h-full flex items-center text-[28rpx]\">\r\n\t\t\t\t\t\t<button @click=\"CartAdd\"\r\n\t\t\t\t\t\t\tclass=\"w-[50%] h-full text-[26rpx] leading-[110rpx] rounded-[0] text-[#8f8f8f] block bg-[orange]\">\r\n\t\t\t\t\t\t\t加入购物车\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button @click=\"buyNow\"\r\n\t\t\t\t\t\t\tclass=\"w-[50%] h-full text-[26rpx] leading-[110rpx] rounded-[0] text-[#8f8f8f] block bg-[#ed5b58]\">\r\n\t\t\t\t\t\t\t立即购买\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-else\r\n\t\t\t\t\tclass=\"w-[60%] h-full text-center leading-[110rpx] text-[28rpx] text-[#8f8f8f] bg-[#f2f2f2]\">\r\n\t\t\t\t\t商品已售罄</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tgetGoodsDetail,\r\n\t\tgetGoodsCount,\r\n\t\tsetCartAdd\r\n\t} from \"@/service/api.js\"\r\n\timport {\r\n\t\tmapMutations\r\n\t} from \"vuex\"\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tShowErrorText: \"请选择规格\",\r\n\t\t\t\tgoods_id: 0,\r\n\t\t\t\tcurrent: 0,\r\n\t\t\t\tshow: false,\r\n\t\t\t\tisShowError: false,\r\n\t\t\t\tgallery: [],\r\n\t\t\t\tinfo: [],\r\n\t\t\t\tproductList: [],\r\n\t\t\t\tspecificationList: [],\r\n\t\t\t\tspecsStatus: false,\r\n\t\t\t\tspecsSwitchValue: \"\",\r\n\t\t\t\tspecsValue: '',\r\n\t\t\t\tselnumValue: 1,\r\n\t\t\t\tshopListNum: 0,\r\n\t\t\t\tshowCustomerService: false, //客服\r\n\t\t\t\tgoodsCount: 0, //购物车数量\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(query) {\r\n\t\t\tthis.goods_id = query.id\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations(['SET_GOODSLIST']),\r\n\t\t\tasync goodsDetail() {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tgallery,\r\n\t\t\t\t\tinfo,\r\n\t\t\t\t\tproductList,\r\n\t\t\t\t\tspecificationList\r\n\t\t\t\t} = await getGoodsDetail({\r\n\t\t\t\t\tid: this.goods_id\r\n\t\t\t\t})\r\n\t\t\t\tthis.gallery = gallery\r\n\t\t\t\tthis.info = info\r\n\t\t\t\tthis.productList = productList\r\n\t\t\t\tthis.specificationList = specificationList\r\n\t\t\t\tthis.specsSwitchValue = `已选择:${ specificationList.valueList.find((item, index) =>\r\n\t\t\t\t\tindex === 0).value}`\r\n\t\t\t\tthis.getGoodsCount()\r\n\t\t\t},\r\n\t\t\t// 获取购物车数量 \r\n\t\t\tasync getGoodsCount() {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tcartTotal: {\r\n\t\t\t\t\t\tgoodsCount\r\n\t\t\t\t\t}\r\n\t\t\t\t} = await getGoodsCount()\r\n\t\t\t\tthis.goodsCount = goodsCount\r\n\t\t\t\tthis.SET_GOODSLIST(goodsCount)\r\n\t\t\t},\r\n\t\t\t// 设置指示器\r\n\t\t\tsetCurrent(index) {\r\n\t\t\t\tthis.current = index.current\r\n\t\t\t},\r\n\t\t\tclose() {\r\n\t\t\t\tthis.show = false\r\n\t\t\t},\r\n\t\t\t// 规格开关\r\n\t\t\tspecsSwitch(value) {\r\n\t\t\t\tif (this.info.goods_number === 0) {\r\n\t\t\t\t\tif (value === this.specsValue) {\r\n\t\t\t\t\t\tthis.specsSwitchValue = '请选择规格和数量'\r\n\t\t\t\t\t\tthis.specsValue = ''\r\n\t\t\t\t\t\tthis.specsStatus = false\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.specsSwitchValue = `已选择:${value}`\r\n\t\t\t\t\t\tthis.specsValue = value\r\n\t\t\t\t\t\tthis.specsStatus = true\r\n\t\t\t\t\t\tthis.showError('库存不足')\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (value === this.specsValue) {\r\n\t\t\t\t\t\tthis.specsValue = ''\r\n\t\t\t\t\t\tthis.specsSwitchValue = '请选择规格和数量'\r\n\t\t\t\t\t\tthis.specsStatus = false\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.specsValue = value\r\n\t\t\t\t\t\tthis.specsStatus = true\r\n\t\t\t\t\t\tthis.specsSwitchValue = `已选择:${value}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\t// 数量减\r\n\t\t\tcutSelnum() {\r\n\t\t\t\tthis.selnumValue--\r\n\t\t\t\tif (this.selnumValue < 0) this.selnumValue = 0\r\n\t\t\t\tif (this.selnumValue === 0) this.specsStatus = false\r\n\t\t\t},\r\n\t\t\t// 数量加\r\n\t\t\taddSelnum() {\r\n\t\t\t\tthis.selnumValue++\r\n\t\t\t\tif (this.selnumValue > 0) this.specsStatus = true\r\n\t\t\t},\r\n\t\t\t// 跳转到首页\r\n\t\t\ttoIndex() {\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl: \"/pages/index/index\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 关闭会话\r\n\t\t\tconfirm() {\r\n\t\t\t\tthis.showCustomerService = false\r\n\t\t\t},\r\n\t\t\t// 错误弹出框\r\n\t\t\tshowError(text) {\r\n\t\t\t\tthis.ShowErrorText = text\r\n\t\t\t\tthis.isShowError = true\r\n\t\t\t\tlet t = setTimeout(() => {\r\n\t\t\t\t\tthis.isShowError = false\r\n\t\t\t\t\tclearTimeout(t)\r\n\t\t\t\t}, 2000)\r\n\t\t\t},\r\n\t\t\t//添加到购物车\r\n\t\t\tCartAdd() {\r\n\t\t\t\tconst goodsId = this.productList.find((item, index) =>\r\n\t\t\t\t\tindex === 0).goods_id.toString()\r\n\t\t\t\tconst productId = this.productList.find((item, index) =>\r\n\t\t\t\t\tindex === 0).id\r\n\t\t\t\tif (!this.specsStatus) {\r\n\t\t\t\t\tthis.showError('请选择规格')\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: \"loading\",\r\n\t\t\t\t\t\ttitle: '正在添加',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetCartAdd({\r\n\t\t\t\t\t\taddType: 0,\r\n\t\t\t\t\t\tgoodsId: goodsId,\r\n\t\t\t\t\t\tnumber: this.selnumValue,\r\n\t\t\t\t\t\tproductId: productId,\r\n\t\t\t\t\t}).then(() => {\r\n\t\t\t\t\t\tlet t = setTimeout(() => { //轻提示\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\t\t\t\ttitle: '添加成功',\r\n\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tclearTimeout(t)\r\n\t\t\t\t\t\t}, 1000)\r\n\r\n\t\t\t\t\t\tthis.getGoodsCount()\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\t// 立即购买\r\n\t\t\tbuyNow() {\r\n\t\t\t\tif (this.specsStatus) {\r\n\t\t\t\t\tthis.CartAdd()\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: `/pages/confirmAnOrder/confirmAnOrder?id=${this.info.id}`\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.showError('请选择规格')\r\n\t\t\t\t}\r\n\t\t\t\tthis.show = true\r\n\t\t\t},\r\n\t\t\t//跳转到购物车\r\n\t\t\ttoShoppingCart() {\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl: \"/pages/ShoppingCart/ShoppingCart\"\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.goodsDetail()\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t/* #ifdef APP */\r\n\t.info-wrap {\r\n\t\twidth: 100%;\r\n\t\tpadding: 30rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\r\n\t.switchAttrPop {\r\n\t\twidth: 100%;\r\n\t\tpadding: 0 24rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\r\n\t.value_item {\r\n\t\tmargin-top: 10rpx;\r\n\t\tborder: 1rpx solid red;\r\n\t}\r\n\r\n\t.selnum {\r\n\t\tborder: 1rpx solid #ccc;\r\n\t}\r\n\r\n\t.cart-add-box {\r\n\t\twidth: 100%;\r\n\t\tpadding: 0 10rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\r\n\r\n\r\n\t/* #endif */\r\n\t/* #ifdef MP-WEIXIN */\r\n\tbutton {\r\n\t\tfont-size: 28rpx;\r\n\t\tbackground-color: #fff;\r\n\t\tborder: none;\r\n\t\tpadding: 0;\r\n\t\tmargin: 0;\r\n\t\tline-height: 1;\r\n\t}\r\n\r\n\tinput {\r\n\t\toutline: none;\r\n\t\tborder: none;\r\n\t\tlist-style: none;\r\n\t}\r\n\r\n\tbutton::after {\r\n\t\tborder: none !important; // 或者 border: none;\r\n\t\tborder-radius: 0;\r\n\t\tpadding: 0;\r\n\t\tline-height: 0;\r\n\t}\r\n\r\n\t/* #endif */\r\n\r\n\r\n\t._p {\r\n\t\tmargin-top: -10rpx;\r\n\t}\r\n\r\n\t.u-transition {\r\n\t\tz-index: 2 !important;\r\n\t}\r\n\r\n\t.indicator-num {\r\n\t\tpadding: 2px 0;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.35);\r\n\t\tborder-radius: 100px;\r\n\t\twidth: 40px;\r\n\t\t@include flex;\r\n\t\tjustify-content: center;\r\n\r\n\t\t&__text {\r\n\t\t\tcolor: #FFFFFF;\r\n\t\t\tfont-size: 12px;\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./productDetails.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./productDetails.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}