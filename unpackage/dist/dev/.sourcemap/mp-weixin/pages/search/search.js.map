{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/LinHan/Desktop/uni-app/huachenghuiShop/pages/search/search.vue?7309","webpack:///C:/Users/LinHan/Desktop/uni-app/huachenghuiShop/pages/search/search.vue?06b2","webpack:///C:/Users/LinHan/Desktop/uni-app/huachenghuiShop/pages/search/search.vue?51db","webpack:///C:/Users/LinHan/Desktop/uni-app/huachenghuiShop/pages/search/search.vue?4ca0","uni-app:///pages/search/search.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uSearch","iconfont","uLoadmore","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","g0","_self","_c","value","searchStatus","historyKeywordList","length","g1","searchGoodsList","g2","_isMounted","e0","$event","item","index","_temp","arguments","currentTarget","dataset","_temp2","eventParams","activeSub","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","subsection","priceStatus","countStatus","isAscendingOrder","methods","getSearchInfo","SearchHelper","SearchGoodsList","searchKeyDown","keyword","sort","order","sales","back","uni","historyKeyword","clearHistory","toProductDetails","url","onShow"],"mappings":"8IAAA,MAGA,aACA,YAFAA,EAAGC,kCAAoCC,EAGvCC,EAAWC,a,gFCLX,6HACIC,EADJ,QAQIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,0BACZ,aAAAF,E,0CCtBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,QAAS,WACP,OAAO,qHAITC,SAAU,WACR,OAAO,4DAITC,UAAW,WACT,OAAO,0HAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GAEH,KAAdN,EAAIO,OAAgBP,EAAIQ,aAAeR,EAAIS,mBAAmBC,OAAS,MACrEC,EACY,KAAdX,EAAIO,OACCP,EAAIQ,cAA+C,IAA/BR,EAAIY,gBAAgBF,OACzC,KACFG,EACY,KAAdb,EAAIO,OACCP,EAAIQ,cAA+C,IAA/BR,EAAIY,gBAAgBF,OACzC,KACDV,EAAIc,aACPd,EAAIe,GAAK,SAAUC,EAAQC,EAAMC,GAC/B,IAAIC,EAAQC,UAAUA,UAAUV,OAAS,GAAGW,cAAcC,QACxDC,EAASJ,EAAMK,aAAeL,EAAM,gBACpCF,EAAOM,EAAON,KACdC,EAAQK,EAAOL,MAEjB,OAAOlB,EAAIyB,UAAUR,EAAMC,KAG/BlB,EAAI0B,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACL1B,GAAIA,EACJO,GAAIA,EACJE,GAAIA,MAKRkB,GAAmB,EACnBC,EAAkB,GACtBjC,EAAOkC,eAAgB,G,iCCzEvB,yHAA4qB,eAAG,G,qJC0I/qB,S,EAMA,CACAN,gBACA,OACApB,SACA2B,gBACAC,eACAC,eACA3B,sBACAG,mBACAJ,gBACA6B,sBAGAC,SACAC,yBAAA,6JAGA,sCADA9B,uBAEA,iEAJA,IAQA+B,0BACA,yBAGAC,4BAAA,YACA,6CACA,oBACA,sBAIAC,0BACA,OACA,sBACAC,WACAC,eACAC,aACAC,eAIA,sBACAH,aAMAlB,wBACA,kBACA,MACA,sBACAkB,mBACAC,eACAC,aACAC,eAEA,OACA,mCACA,iBAEA,sBACAH,mBACAC,aACAC,YACAC,cAIA,sBACAH,mBACAC,aACAC,aACAC,eAGA,QACA,mCACA,iBAEA,sBACAH,mBACAC,aACAC,YACAC,cAIA,sBACAH,mBACAC,aACAC,YACAC,gBAIAjD,8BAGAkD,gBACAC,kBAGAC,2BACA,aACA,sBACAN,mBACAC,eACAC,aACAC,gBAIAI,wBAAA,YACA,wCACA,sBAIAC,6BACAH,cACAI,gEAIAC,kBACA,uBAEA,c","file":"pages/search/search.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/search/search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=4cedc0c6&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/search/search.vue\"\nexport default component.exports","export * from \"-!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=template&id=4cedc0c6&\"","var components\ntry {\n  components = {\n    uSearch: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-search/u-search\" */ \"@/uni_modules/uview-ui/components/u-search/u-search.vue\"\n      )\n    },\n    iconfont: function () {\n      return import(\n        /* webpackChunkName: \"components/iconfont/iconfont\" */ \"@/components/iconfont/iconfont.vue\"\n      )\n    },\n    uLoadmore: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-loadmore/u-loadmore\" */ \"@/uni_modules/uview-ui/components/u-loadmore/u-loadmore.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 =\n    _vm.value === \"\" && _vm.searchStatus ? _vm.historyKeywordList.length : null\n  var g1 =\n    _vm.value === \"\"\n      ? !_vm.searchStatus && _vm.searchGoodsList.length === 0\n      : null\n  var g2 =\n    _vm.value === \"\"\n      ? !_vm.searchStatus && _vm.searchGoodsList.length !== 0\n      : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event, item, index) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        item = _temp2.item,\n        index = _temp2.index\n      var _temp, _temp2\n      return _vm.activeSub(item, index)\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\下载软件\\\\专业软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"px-[24rpx]\">\r\n\t\t<view class=\"search w-full h-[100rpx] flex items-center border-b border-[#eeeeee] border-t\">\r\n\t\t\t<u-search :inputStyle=\"{fontSize:'28rpx'}\" v-model=\"value\"\r\n\t\t\t\tclass=\"w-[calc(100%-90rpx)] text-[28rpx] h-[70rpx]\" :showAction=\"false\" shape=\"square\" :animation=\"true\"\r\n\t\t\t\tbgColor=\"#ffffff\" @input=\"SearchHelper(value)\" @focus=\"SearchHelper(value)\"\r\n\t\t\t\t@search=\"searchKeyDown(value)\"></u-search>\r\n\t\t\t<text class=\"text-[28rpx] text-[#666] text-right block w-[90rpx] h-full leading-[100rpx]\"\r\n\t\t\t\t@click=\"back\">取消</text>\r\n\t\t</view>\r\n\t\t<view class=\"warp\" v-if=\"value===''\">\r\n\t\t\t<view class=\"no-search\" v-if=\"searchStatus\">\r\n\t\t\t\t<view class=\"serach-keywords search-history\" v-if=\"historyKeywordList.length!==0\">\r\n\t\t\t\t\t<view class=\"h w-full h-[90rpx] text-[#8f8f8f] text-[28rpx] flex items-center justify-between\">\r\n\t\t\t\t\t\t<text class=\"w-auto h-full block leading-[90rpx]\">历史记录</text>\r\n\t\t\t\t\t\t<iconfont name=\"icon\" @click=\"clearHistory\"></iconfont>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"b w-full h-auto border-box flex flex-wrap items-center\">\r\n\t\t\t\t\t\t<view @click=\"historyKeyword(item)\" v-for=\"(item,index) in historyKeywordList\" :key=\"index\"\r\n\t\t\t\t\t\t\tclass=\"w-auto h-[48rpx] text-[24rpx] mx-[24rpx] mb-[24rpx] px-[14rpx] border border-[#eeeeee] leading-[48rpx]\">\r\n\t\t\t\t\t\t\t{{item}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"serach-keywords search-hot\">\r\n\t\t\t\t\t<view class=\"h w-full h-[90rpx] text-[#8f8f8f] text-[28rpx]\">\r\n\t\t\t\t\t\t<text class=\"w-auto h-full leading-[90rpx]\">热门搜索</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"b w-full h-auto border-box flex items-center\">\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 搜索为空 -->\r\n\t\t\t<template v-if=\"!searchStatus && searchGoodsList.length === 0\">\r\n\t\t\t\t<view class=\"text-[#8f8f8f] pt-[200rpx] w-full\">\r\n\t\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t\t<iconfont name=\"shila\" class=\"text-[200rpx] \"></iconfont>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t<!-- #ifdef APP -->\r\n\t\t\t\t\t<image src=\"@/static/images/shiluo.png\" mode=\"\" class=\"w-[200rpx] m-auto block h-[200rpx]\"></image>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t<text class=\"text-[28rpx] w-full mt-[20rpx] block text-center\">没找到，换个关键字试试</text>\r\n\t\t\t\t</view>\r\n\t\t\t</template>\r\n\t\t\t<!-- 搜索有内容 -->\r\n\t\t\t<template v-if=\"!searchStatus && searchGoodsList.length !== 0\">\r\n\t\t\t\t<view class=\"shelper-list\">\r\n\t\t\t\t\t<view class=\"w-full h-[70rpx]  px-[50rpx] text-[28rpx] mt-[10rpx]\">\r\n\r\n\t\t\t\t\t\t<view class=\"flex w-full m-auto justify-around h-[100rpx]\">\r\n\t\t\t\t\t\t\t<view v-for=\"(item ,index) in ['综合','价格','销量']\" @click='activeSub(item,index)'\r\n\t\t\t\t\t\t\t\t:style=\"{color:subsection == item ? 'red' : 'black'}\"\r\n\t\t\t\t\t\t\t\tclass=\"w-1/3 flex items-center justify-center h-full text-[24rpx] leading-[100rpx] text-center \">\r\n\t\t\t\t\t\t\t\t<view>{{item}}</view>\r\n\t\t\t\t\t\t\t\t<template v-if=\"index===1\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"w-[20rpx] h-[40rpx] mr-[6rpx] pt-[9rpx]\">\r\n\t\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t\t<image v-if=\"!priceStatus\" src=\"@/static/images/shangjiantou.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-[15rpx] h-[15rpx] block\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t\t\t\t\t<image v-if=\"priceStatus\" src=\"@/static/images/shangjiantou-copy.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-[15rpx] h-[15rpx] block\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t\t<image v-if=\"priceStatus\" src=\"@/static/images/xiajiantou.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-[15rpx] h-[15rpx] block\" mode=\"\"></image>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<image v-if=\"!priceStatus\" src=\"@/static/images/xiajiantou-copy.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-[15rpx] h-[15rpx] block\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t\t\t<template v-if=\"index===2\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"w-[20rpx] h-[40rpx] mr-[6rpx] pt-[9rpx]\">\r\n\t\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t\t<image v-if=\"!countStatus\" src=\"@/static/images/shangjiantou.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-[15rpx] h-[15rpx] block\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t\t\t\t\t<image v-if=\"countStatus\" src=\"@/static/images/shangjiantou-copy.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-[15rpx] h-[15rpx] block\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t\t<image v-if=\"countStatus\" src=\"@/static/images/xiajiantou.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-[15rpx] h-[15rpx] block\" mode=\"\"></image>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<image v-if=\"!countStatus\" src=\"@/static/images/xiajiantou-copy.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-[15rpx] h-[15rpx] block\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\" w-full h-auto flex flex-wrap\">\r\n\t\t\t\t\t\t\t<!-- #ifdef APP-->\r\n\t\t\t\t\t\t\t<view class=\"good-box w-[336rpx]  mb-[100rpx]\" @click=\"toProductDetails(item)\"\r\n\t\t\t\t\t\t\t\tv-for=\"item in searchGoodsList\" :key=\"item.id\">\r\n\t\t\t\t\t\t\t\t<view class=\"box w-full h-[338rpx] \">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"item.list_pic_url\" mode=\"\" class=\"w-full m-auto h-full block\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"goods-info text-[28rpx]\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"goods-title text-black\">{{item.name}}</text>\r\n\t\t\t\t\t\t\t\t\t<view class=\"goods-intro text-[#8f8f8f] text-[20rpx]\">\r\n\t\t\t\t\t\t\t\t\t\t{{item.goods_brief}}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"price-container text-[red]\">￥{{item.min_retail_price}}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\t\t<!-- #ifdef MP-WEIXIN-->\r\n\t\t\t\t\t\t\t<view class=\"good-box w-[300rpx] mb-[100rpx]\" @click=\"toProductDetails(item)\"\r\n\t\t\t\t\t\t\t\tv-for=\"item in searchGoodsList\" :key=\"item.id\">\r\n\t\t\t\t\t\t\t\t<view class=\"box w-full h-[338rpx] \">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"item.list_pic_url\" mode=\"\" class=\"w-full m-auto h-full block\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"goods-info text-[28rpx]\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"goods-title text-black\">{{item.name}}</text>\r\n\t\t\t\t\t\t\t\t\t<view class=\"goods-intro text-[#8f8f8f] text-[20rpx]\">\r\n\t\t\t\t\t\t\t\t\t\t{{item.goods_brief}}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"price-container text-[24rpx] text-[red]\">\r\n\t\t\t\t\t\t\t\t\t\t￥{{item.min_retail_price}}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\t\t<u-loadmore loadmoreText=\"没有更多了\" class=\"mt-[20rpx] block\" color=\"#ed5b58\"\r\n\t\t\t\t\t\t\t\tlineColor=\"#ed5b58\" dashed line />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</template>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tgetSearchIndex,\r\n\t\tgetSearchHelper,\r\n\t\tgetSearchGoodsList,\r\n\t\tsetClearHistory\r\n\t} from \"@/service/api.js\"\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tsubsection: '综合',\r\n\t\t\t\tpriceStatus: true,\r\n\t\t\t\tcountStatus: true,\r\n\t\t\t\thistoryKeywordList: [], //历史搜索\r\n\t\t\t\tsearchGoodsList: [], //搜索结果\r\n\t\t\t\tsearchStatus: true, //搜索状态\r\n\t\t\t\tisAscendingOrder: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync getSearchInfo() {\r\n\t\t\t\tconst {\r\n\t\t\t\t\thistoryKeywordList\r\n\t\t\t\t} = await getSearchIndex()\r\n\t\t\t\tthis.historyKeywordList = historyKeywordList\r\n\t\t\t},\r\n\r\n\t\t\t// 聚焦搜索\r\n\t\t\tSearchHelper(value) {\r\n\t\t\t\tgetSearchHelper(value)\r\n\t\t\t},\r\n\t\t\t// 搜索请求\r\n\t\t\tSearchGoodsList(params) {\r\n\t\t\t\tgetSearchGoodsList(params).then((data) => {\r\n\t\t\t\t\tthis.searchGoodsList = data\r\n\t\t\t\t\tthis.searchStatus = false\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 回车\r\n\t\t\tsearchKeyDown(value) {\r\n\t\t\t\tif (value === '') {\r\n\t\t\t\t\tthis.SearchGoodsList({\r\n\t\t\t\t\t\tkeyword: '',\r\n\t\t\t\t\t\tsort: 'default',\r\n\t\t\t\t\t\torder: 'desc',\r\n\t\t\t\t\t\tsales: 'desc'\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.SearchGoodsList({\r\n\t\t\t\t\t\tkeyword: value\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\t// 选项卡\r\n\t\t\tactiveSub(item, index) {\r\n\t\t\t\tthis.subsection = item\r\n\t\t\t\tif (index === 0) {\r\n\t\t\t\t\tthis.SearchGoodsList({\r\n\t\t\t\t\t\tkeyword: this.value,\r\n\t\t\t\t\t\tsort: 'default',\r\n\t\t\t\t\t\torder: 'desc',\r\n\t\t\t\t\t\tsales: 'desc'\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (index === 1) {\r\n\t\t\t\t\tthis.priceStatus = !this.priceStatus\r\n\t\t\t\t\tif (this.priceStatus) {\r\n\t\t\t\t\t\t// 升序\r\n\t\t\t\t\t\tthis.SearchGoodsList({\r\n\t\t\t\t\t\t\tkeyword: this.value,\r\n\t\t\t\t\t\t\tsort: 'price',\r\n\t\t\t\t\t\t\torder: 'asc',\r\n\t\t\t\t\t\t\tsales: 'asc'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 降序\r\n\t\t\t\t\t\tthis.SearchGoodsList({\r\n\t\t\t\t\t\t\tkeyword: this.value,\r\n\t\t\t\t\t\t\tsort: 'price',\r\n\t\t\t\t\t\t\torder: 'desc',\r\n\t\t\t\t\t\t\tsales: 'asc'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (index === 2) {\r\n\t\t\t\t\tthis.countStatus = !this.countStatus\r\n\t\t\t\t\tif (this.countStatus) {\r\n\t\t\t\t\t\t// 升序\r\n\t\t\t\t\t\tthis.SearchGoodsList({\r\n\t\t\t\t\t\t\tkeyword: this.value,\r\n\t\t\t\t\t\t\tsort: 'sales',\r\n\t\t\t\t\t\t\torder: 'asc',\r\n\t\t\t\t\t\t\tsales: 'asc'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 降序\r\n\t\t\t\t\t\tthis.SearchGoodsList({\r\n\t\t\t\t\t\t\tkeyword: this.value,\r\n\t\t\t\t\t\t\tsort: 'sales',\r\n\t\t\t\t\t\t\torder: 'asc',\r\n\t\t\t\t\t\t\tsales: 'desc'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(this.subsection);\r\n\t\t\t},\r\n\t\t\t// 返会前一页\r\n\t\t\tback() {\r\n\t\t\t\tuni.navigateBack()\r\n\t\t\t},\r\n\t\t\t// 点击历史记录\r\n\t\t\thistoryKeyword(item) {\r\n\t\t\t\tthis.value = item\r\n\t\t\t\tthis.SearchGoodsList({\r\n\t\t\t\t\tkeyword: this.value,\r\n\t\t\t\t\tsort: 'default',\r\n\t\t\t\t\torder: 'desc',\r\n\t\t\t\t\tsales: 'desc'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 清空历史记录\r\n\t\t\tclearHistory() {\r\n\t\t\t\tsetClearHistory().then(() => {\r\n\t\t\t\t\tthis.getSearchInfo()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 跳转到商品详情\r\n\t\t\ttoProductDetails(item) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/productDetails/productDetails?id=${item.id}`\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.getSearchInfo()\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"sourceRoot":""}